using System;
using System.Collections.Generic;

namespace RegistroPersonas
{
   static void Main(string[] args)
{
    List<string> listaNombres = new List<string>();
    List<int> listaEdades = new List<int>();

    int cantidad = 0;
    bool cantidadCorrecta = false;

    while (cantidadCorrecta == false)
    {
        Console.Write("Dime cuantas personas vas a ingresar: ");
        string entradaTexto = Console.ReadLine();

        bool Convertir = int.TryParse(entradaTexto, out cantidad);

        if (Convertir == true)
        {
            if (cantidad >= 1)
            {
                cantidadCorrecta = true;
            }
            else
            {
                Console.WriteLine("Error: Tienes que ingresar 1 o mas personas.");
            }
        }
        else
        {
            Console.WriteLine("Error: Por favor escribe un numero, no letras.");
        }
    }
    for (int i = 0; i < cantidad; i++)
    {
        Console.WriteLine("");
        Console.WriteLine("Persona numero " + (i + 1) + ":");

        Console.Write("Escribe el nombre: ");
        string nombreTemp = Console.ReadLine();
        listaNombres.Add(nombreTemp);

        int edadTemp = 0;
        bool edadCorrecta = false;

        while (edadCorrecta == false)
        {
            Console.Write("Escribe la edad de " + nombreTemp + ": ");
            string entradaEdad = Console.ReadLine();

            bool edadConvertida = int.TryParse(entradaEdad, out edadTemp);

            if (edadConvertida == true)
            {
                if (edadTemp > 0)
                {
                    edadCorrecta = true;
                }
                else
                {
                    Console.WriteLine("La edad no puede ser un numero negativo o cero.");
                }
            }
            else
            {
                Console.WriteLine("Error: La edad solo debe tener numeros.");
            }
        }

        listaEdades.Add(edadTemp);
    }

    Console.WriteLine("");
    Console.WriteLine("--------------------------------");

    if (cantidad == 1)
    {
        Console.WriteLine("Nombre: " + listaNombres[0]);

        if (listaEdades[0] >= 18)
        {
            Console.WriteLine("Es Mayor de edad (Tiene " + listaEdades[0] + " años).");
        }
        else
        {
            Console.WriteLine("Es Menor de edad (Tiene " + listaEdades[0] + " años).");
        }
    }
    else
    {
        Console.WriteLine("--- LISTA GENERAL ---");
        for (int i = 0; i < listaNombres.Count; i++)
        {
            Console.WriteLine(listaNombres[i] + " tiene " + listaEdades[i] + " años.");
        }
        List<string> nombresMayores = new List<string>();
        List<int> edadesMayores = new List<int>();

        List<string> nombresMenores = new List<string>();
        List<int> edadesMenores = new List<int>();

        for (int i = 0; i < listaNombres.Count; i++)
        {
            if (listaEdades[i] >= 18)
            {
                nombresMayores.Add(listaNombres[i]);
                edadesMayores.Add(listaEdades[i]);
            }
            else
            {
                nombresMenores.Add(listaNombres[i]);
                edadesMenores.Add(listaEdades[i]);
            }
        }
        if (nombresMayores.Count > 0)
        {
            Console.WriteLine("");
            Console.WriteLine("--- MAYORES DE EDAD ---");
            for (int i = 0; i < nombresMayores.Count; i++)
            {
                Console.WriteLine(nombresMayores[i] + " (" + edadesMayores[i] + " años)");
            }
        }

        if (nombresMenores.Count > 0)
        {
            Console.WriteLine("");
            Console.WriteLine("--- MENORES DE EDAD ---");
            for (int i = 0; i < nombresMenores.Count; i++)
            {
                Console.WriteLine(nombresMenores[i] + " (" + edadesMenores[i] + " años)");
            }
        }
    }

    Console.WriteLine("");
    Console.WriteLine("Presiona Enter para salir...");
    Console.ReadLine();
}
}
